<!DOCTYPE html><html lang="ja"><head><title> AWSの高可用性ペアNetAppクラウドドキュメント</title><meta charset="utf-8"><meta property="og:title" content="High-availability pairs in AWS | NetApp Cloud Docs" /><meta property="og:type" content="website" /><meta property="og:url" content="https://docs.netapp.com/occm/ja-jp/concept_ha.html" /><meta property="og:description" content="A Cloud Volumes ONTAP high availability (HA) configuration provides nondisruptive operations and fault tolerance. In AWS, data is synchronously mirrored betw..." /><meta property="og:image" content="https://docs.netapp.com/occm/ja-jp/images/logo-tophat-social.png" /><meta property="og:image:alt" content="NetApp Logo" /><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1"><meta http-equiv="encoding" content="utf-8"><meta http-equiv="nss-type" content="Product Documentation"/><meta http-equiv="nss-subtype" content="User Guide"/><meta http-equiv="nss-product" content="OnCommand"/><meta name="description" content="A Cloud Volumes ONTAP high availability (HA) configuration provides nondisruptive operations and fault tolerance. In AWS, data is synchronously mirrored betw..."><meta name="keywords" content=" high availability, HA, mediator, concepts, understanding, overview, availability zones, AZs, takeover, giveback, rpo, rto, floating ip, nondisruptive, ha pairs, node, nodes, synchronous, resync, recovery point objective, recovery time objective, nas, nfs, cifs, floating ip address, route tables, iscsi, mpio, alua, failover, mount, remount, failure, data access, access, ip address, performance"><!-- Icons --><link rel="icon" href="/occm/ja-jp/images/favicon.ico" type="image/x-icon"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="NetAppクラウドドキュメント" href="/occm/ja-jp/feed.xml"><!-- CSS Definitions: NetApp CSS should be defined after generic css --><!-- Elastic Search --><link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css"><!-- LUCI CSS Content --><link rel="stylesheet" href="/occm/ja-jp/common/css/esb.min.css"><link rel="stylesheet" href="/occm/ja-jp/common/css/netapp-library.min.css"><link rel="stylesheet" href="/occm/ja-jp/common/css/doc.css"><link rel="stylesheet" href="/occm/ja-jp/common/css/doc-components.css"><link rel="stylesheet" href="/occm/ja-jp/css/na-sidebar.css" type="text/css"><link rel="stylesheet" href="/occm/ja-jp/css/na-search.css" type="text/css"><link rel="stylesheet" href="/occm/ja-jp/css/clouddocs.css" type="text/css"><!-- Font awesome seems to affect our GitHub Icon and generic "arrow box" for external links. --><link rel="stylesheet" type="text/css" href="/occm/ja-jp/css/font-awesome.min.css"><!-- <link rel="stylesheet" href="/occm/ja-jp/css/customstyles.css"> --><!-- Controls the shadow effect for search dropdown menu --><link rel="stylesheet" href="/occm/ja-jp/css/boxshadowproperties.css"><!-- NetApp CSS controls the technical content --><link rel="stylesheet" href="/occm/ja-jp/css/netapp.css" type="text/css"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><!-- Used to import Promise for IE. Required for SearchKit --><script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script><script src="/occm/ja-jp/js/na-search.js"></script><link rel="stylesheet" href="/occm/ja-jp/css/na-pagenav.css" type="text/css" id="pagenav-css"><script src="/occm/ja-jp/js/na-pagenav.js"></script><link rel="stylesheet" href="/occm/ja-jp/css/prism.css" type="text/css"><link rel="stylesheet" href="/occm/ja-jp/css/prism-netapp.css" type="text/css"><script src="/occm/ja-jp/js/clouddocs.js"></script><script src="/occm/ja-jp/js/s_code_impl.js"></script><script src="/occm/ja-jp/js/jquery.navgoco.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><script src="/occm/ja-jp/js/toc.js"></script><script src="/occm/ja-jp/js/customscripts.js"></script><script>
      $(document).ready(function() {
          // Initialize navgoco with default options
          $("#mysidebar").navgoco({
              caretHtml: "",
              accordion: true,
              openClass: "active", // open
              save: false, // leave false or nav highlighting doesn"t work right
              cookie: {
                  name: "navgoco",
                  expires: false,
                  path: "/"
              },
              slide: {
                  duration: 400,
                  easing: "swing"
              }
          });

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco("toggle", false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco("toggle", true);
          });

      });

  </script><script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass("col-md-9");
              $("#tg-sb-content").toggleClass("col-md-12");
              $("#tg-sb-icon").toggleClass("fa-toggle-on");
              $("#tg-sb-icon").toggleClass("fa-toggle-off");
          });
      });
  </script><!-- Controls the i18n Browser Redirection --><script>
    var siteLocales = [];
    
      siteLocales.push("us-en");
    
      siteLocales.push("en");
    
      siteLocales.push("ja-jp");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script><script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag("js", new Date());
    gtag("config", "UA-81697994-3");
  }
  </script></head><body class="n-doc__component-detail"> <a href="#n-main-content" class="visually-hidden">本文へスキップ</a> <div class="n-off-canvas-menu"><div class="n-off-canvas-menu__menu"><div class="n-off-canvas-menu__menu-inner"><div class="n-off-canvas-menu__property-title"> NetAppクラウドドキュメント</div><ul class="n-off-canvas-menu__property-navigation-list"><li class="n-off-canvas-menu__property-navigation-list-item "> <a href="https://docs.netapp.com/ja-jp/" class="n-off-canvas-menu__property-navigation-link">ホーム</a> <div class="n-off-canvas-menu__child-menu"><ul class="n-menu__list"></ul></div></li></ul><ul class="n-off-canvas-menu__global-navigation-list"><li class="n-off-canvas-menu__global-navigation-list-header"> NetAppによるその他のアイテム</li><li class="n-off-canvas-menu__global-navigation-list-item"> <a href="#" class="n-off-canvas-menu__global-navigation-link">Netapp.com</a> </li></ul></div></div></div><div class="n-off-canvas-menu__content-wrap"><!-- Header --><header><!-- Top Hat --><div class="n-top-hat"><div class="n-container"><div class="n-top-hat__cross-property-nav"><ul class="n-top-hat__list"><li class="n-top-hat__list-item"> <a href="http://www.netapp.com" class="n-top-hat__link">NetApp.com</a> </li></ul></div></div></div><!-- Property Bar --><div class="n-property-bar n-property-bar--v3"><div class="n-property-bar__inner-wrap"><div class="n-property-bar__menu-toggle"> <a href="#" class="n-property-bar__menu-toggle-link"><span class="n-property-bar__menu-toggle-text">メニュー</span></a> <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#bars"></use></svg></div><div class="n-property-bar__property-mark n-property-bar__property-mark--has-property-name"><div class="n-property-bar__logo"><svg class="n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#netapp-mark"></use></svg><svg class="n-property-bar__logo-svg" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#netapp-logo"></use></svg></div><h2 class="n-property-bar__property-name">クラウドドキュメント</h2></div><div id="search-demo-container" class="n-property-bar__search"><div id="react-search"></div></div><div id="ie-i18n-menu" class="n-property-bar__utils"><ul class="n-property-navigation-bar__utils-list"><li class="n-property-navigation-bar__utils-list-item ie-i18n-container"> <a href="#" class="n-property-navigation-bar__utils-link n-property-navigation-bar__nav-link n-property-navigation-bar__language-selector-toggle ie-i18n-link" data-menu-id="n-property-navigation-bar__menu--language-selector"><span class="ie-i18n-lang">日本人</span></a> <svg class="ie-i18n-icon-container" class="n-property-bar__logo-svg" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#globe" class="n-icon-globe n-globe__icon"></use></svg></li></ul></div></div><div class="n-property-bar__menus"><div id="n-property-navigation-bar__menu--language-selector" class="n-menu n-menu--v3"><div class="n-language-selector-menu"><div class="n-language-selector-menu__header"> <span class="n-language-selector-menu__title">あなたが使う言語を選んでください</span> </div><ul class="n-menu__list"><li class="n-menu__list-column"><ul class="n-menu__list"><li class="n-menu__list-item n-menu__list-item--level-1"> <a href="/occm/us-en/" class="n-menu__header-text">英語</a> </li><li class="n-menu__list-item n-menu__list-item--level-1"> <a href="/occm/ja-jp/" class="n-menu__header-text">日本人</a> </li></ul></li></ul><div class="menu__footer"><p>現在の言語：日本語</p></div></div></div></div></div></header><!-- Content --><main role="main" id="n-main-content" class="n-main-content"><div class="n-container"><div class="n-row"><div class="n-doc n-doc__component-list"><!-- Sidebar Column --><div class="col-md-3" ><ul id="mysidebar" class="nav"><li> <a href="index.html">Cloud Manager 3.7のドキュメント</a> </li><!-- Check Container --><li class="subfolders"> <a href="#">リリースノート</a> <ul><!-- Check Container --><li class="subfolders"> <a href="#">クラウドマネージャ</a> <ul><li> <a href="reference_new_occm.html">新着情報</a> </li><li> <a href="reference_issues.html">既知の問題点</a> </li><li> <a href="reference_limitations.html">既知の制限</a> </li></ul></li><li> <a href="https://docs.netapp.com/us-en/cloud-volumes-ontap/" target="_blank">クラウドボリュームONTAP</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">概念</a> <ul><li> <a href="concept_overview.html">製品の概要</a> </li><li> <a href="concept_cloud_central.html">NetAppクラウドセントラル</a> </li><li> <a href="concept_cloud_central_accounts.html">Cloud Centralのアカウント</a> </li><li> <a href="concept_accounts_and_permissions.html">クラウドプロバイダアカウント</a> </li><!-- Check Container --><li class="subfolders"> <a href="#">ストレージ</a> <ul><li> <a href="concept_storage.html">概要</a> </li><li> <a href="concept_data_tiering.html">データ階層化</a> </li><li> <a href="concept_storage_management.html">ストレージ管理</a> </li><li> <a href="concept_worm.html">WORMストレージ</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">高可用性ペア</a> <ul><li class="active"> <a href="concept_ha.html">AWSのHAペア</a> </li><li> <a href="concept_ha_azure.html">AzureのHAペア</a> </li></ul></li><li> <a href="concept_evaluating.html">評価中</a> </li><li> <a href="concept_licensing.html">ライセンス</a> </li><li> <a href="concept_security.html">セキュリティ</a> </li><li> <a href="concept_performance.html">パフォーマンス</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">入門</a> <ul><li> <a href="reference_deployment_overview.html">展開の概要</a> </li><li> <a href="task_getting_started_aws.html">AWSを始めよう</a> </li><li> <a href="task_getting_started_azure.html">Azureを使い始める</a> </li><li> <a href="task_getting_started_gcp.html">GCPを始めよう</a> </li><!-- Check Container --><li class="subfolders"> <a href="#">クラウドマネージャの設定</a> <ul><li> <a href="task_setting_up_cloud_central_accounts.html">Cloud Centralアカウントを設定する</a> </li><li> <a href="task_adding_cloud_accounts.html">クラウドプロバイダアカウントを追加する</a> </li><li> <a href="task_adding_nss_accounts.html">NetAppサポートサイトアカウントを追加する</a> </li><li> <a href="task_installing_https_cert.html">HTTPS証明書のインストール</a> </li><li> <a href="task_setting_up_kms.html">AWS KMSの設定</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">ネットワーク要件</a> <ul><li> <a href="reference_networking_cloud_manager.html">クラウドマネージャ</a> </li><li> <a href="reference_networking_aws.html">クラウドボリュームONTAP for AWS</a> </li><li> <a href="task_setting_up_transit_gateway.html">AWSトランジットゲートウェイの設定</a> </li><li> <a href="reference_networking_azure.html">クラウドボリュームONTAP for Azure</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">追加の展開オプション</a> <ul><li> <a href="reference_cloud_mgr_reqs.html">Cloud Managerのホスト要件</a> </li><li> <a href="task_installing_linux.html">LinuxホストへのCloud Managerのインストール</a> </li><li> <a href="task_launching_aws_mktp.html">AWSマーケットプレイスからのCloud Managerのデプロイ</a> </li><li> <a href="task_launching_azure_mktp.html">Azure MarketplaceからのCloud Managerのデプロイ</a> </li><li> <a href="task_installing_azure_gov.html">Azure GovリージョンにCloud Managerをデプロイする</a> </li><li> <a href="task_installing_azure_germany.html">Azure Germany地域にCloud Managerをデプロイする</a> </li><li> <a href="https://docs.netapp.com/us-en/occm/media/c2s.pdf" target="_blank">AWS C2S環境を始めよう</a> </li></ul></li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">クラウドボリュームの導入ONTAP</a> <ul><li> <a href="reference_before.html">あなたが始める前に</a> </li><li> <a href="task_logging_in.html">Cloud Managerにログインする</a> </li><li> <a href="task_planning_your_config.html">構成を計画する</a> </li><li> <a href="task_enabling_flash_cache.html">AWSでクラウドボリュームONTAPでフラッシュキャッシュを有効にする</a> </li><li> <a href="task_deploying_otc_aws.html">AWSでクラウドボリュームONTAPを起動する</a> </li><li> <a href="task_deploying_otc_azure.html">AzureでクラウドボリュームONTAPを起動する</a> </li><li> <a href="task_registering.html">従量制システムの登録</a> </li><li> <a href="task_setting_up_ontap_cloud.html">クラウドボリュームの設定</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">プロビジョニングストレージ</a> <ul><li> <a href="task_provisioning_storage.html">ボリューム、アグリゲート、およびLUNの作成</a> </li><li> <a href="task_tiering.html">非アクティブデータをオブジェクトストレージに階層化する</a> </li><li> <a href="task_connecting_kubernetes.html">永続的ストレージとしてのCloud Volumes ONTAPの使用</a> </li><li> <a href="task_encrypting_volumes.html">NetApp Volume Encryptionを使用したボリュームの暗号化</a> </li><li> <a href="task_managing_storage.html">既存のストレージを管理する</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">データの複製と保護</a> <ul><li> <a href="task_discovering_ontap.html">ONTAPクラスタの検出と管理</a> </li><li> <a href="task_replicating_data.html">クラウドとの間でデータを複製する</a> </li><li> <a href="task_syncing_s3.html">AWS S3とのデータの同期</a> </li><li> <a href="task_setting_up_cbs.html">AWSのクラウドバックアップサービスを使用してデータをバックアップする</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">クラウドボリュームの管理</a> <ul><li> <a href="task_connecting_to_otc.html">クラウドボリュームへの接続</a> </li><li> <a href="task_updating_ontap_cloud.html">ソフトウェアの更新</a> </li><li> <a href="task_modifying_ontap_cloud.html">システム構成の変更</a> </li><li> <a href="task_managing_state.html">システムの停止と起動</a> </li><li> <a href="task_monitoring_costs.html">AWSのコストを監視する</a> </li><li> <a href="task_protecting_ransomware.html">ランサムウェア保護の向上</a> </li><li> <a href="task_adding_ontap_cloud.html">既存のシステムを追加する</a> </li><li> <a href="task_deleting_working_env.html">システムを削除する</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">Cloud Managerの管理</a> <ul><li> <a href="task_updating_cloud_manager.html">Cloud Managerのアップデート</a> </li><li> <a href="task_managing_cloud_central_accounts.html">Cloud Centralアカウントを管理する</a> </li><li> <a href="task_removing.html">作業環境の削除</a> </li><li> <a href="task_configuring_proxy.html">プロキシ設定</a> </li><li> <a href="task_renewing_cert.html">HTTPS証明書を更新する</a> </li><li> <a href="task_uninstalling.html">Cloud Managerのアンインストール</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">APIと自動化</a> <ul><li> <a href="https://docs.netapp.com/us-en/occm/api.html" target="_blank">API開発者ガイド</a> </li><li> <a href="reference_infrastructure_as_code.html">自動化サンプル</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">参照</a> <ul><li> <a href="reference_integration_faq.html">Cloud Centralの統合に関するよくある質問</a> </li><li> <a href="https://docs.netapp.com/us-en/cloud-volumes-ontap/index.html" target="_blank">Cloud Volumes ONTAPでサポートされている構成</a> </li><li> <a href="https://cloud.netapp.com/cloud-volumes-global-regions" target="_blank">サポートされている地域</a> </li><li> <a href="reference_security_groups.html">AWSのセキュリティグループルール</a> </li><li> <a href="reference_security_groups_azure.html">Azureのセキュリティグループの規則</a> </li><li> <a href="reference_permissions.html">許可</a> </li><li> <a href="reference_default_configs.html">デフォルト設定</a> </li><li> <a href="reference_user_roles.html">ユーザー役割</a> </li><li> <a href="reference_additional_info.html">関連リンク</a> </li></ul></li><li> <a href="reference_earlier_versions.html">以前のバージョン</a> </li><li> <a href="reference_legal_notices.html">法的通知</a> </li></ul><!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you"re viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.--><script>$("li.active").parents("li").toggleClass("active");</script></div><div class="n-doc__component-detail-content n-doc__component-detail-content--show-code"><!-- Begin of page container --><article class="page-content"><div class="n-doc__component-detail-heading-wrap"><h1 class="n-doc__component-detail-heading"> AWSの高可用性ペア<span><a target="_blank" href="https://github.com/NetAppDocs/occm/blob/master/concept_ha.adoc" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> GitHubで編集</a> <a target="_blank" href="https://github.com/NetAppDocs/occm/issues/new?body=Page%3A%20[High-availability pairs in AWS](https://docs.netapp.com/ja-jp/occm/concept_ha.html)" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i>ドキュメントの変更をリクエストする</a></span> </h1></div><p class="page-details"><time datetime="2019-05-28 21:12:02 +0000"> 05/28/2019 </time> <span>貢献者<a target="_blank" href="https://github.com/netapp-bcammett"><img  class="avatar avatar-small"
          alt="netapp-bcammett"
          width="20" height="20"
          src="https://avatars3.githubusercontent.com/u/18287750?v=4"
          style="border-radius: 50%;"/></a></span> </p><div id="preamble"><div class="sectionbody"><div class="paragraph lead"><p> Cloud Volumes ONTAPの高可用性（HA）構成は、中断を伴わない操作とフォールトトレランスを提供します。 AWSでは、データは2つのノード間で同期的にミラーリングされます。 </p></div></div></div><div class="sect1"><h2 id="overview">概要</h2><div class="sectionbody"><div class="paragraph"><p> AWSでは、Cloud Volumes ONTAP HA構成に次のコンポーネントが含まれています。 </p></div><div class="ulist"><ul><li><p>データが互いに同期してミラーリングされている2つのCloud Volumes ONTAPノード。 </p></li><li><p>ノード間の通信チャネルを提供してストレージのテイクオーバーおよびギブバック処理を支援するメディエータインスタンス。 </p></li></ul></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content">メディエータインスタンスは、t2.microインスタンス上でLinuxオペレーティングシステムを実行し、約8 GBのEBS磁気ディスクを1つ使用します。 </td></tr></table></div><div class="sect2"><h3 id="storage-takeover-and-giveback">ストレージの引き継ぎとギブバック</h3><div class="paragraph"><p>ノードがダウンした場合、もう一方のノードはパートナーにデータを提供して継続的なデータサービスを提供できます。データはパートナーに同期的にミラーリングされているため、クライアントはパートナーノードから同じデータにアクセスできます。 </p></div><div class="paragraph"><p>ノードの再起動後、パートナーはストレージを返す前にデータを再同期する必要があります。データの再同期にかかる時間は、ノードが停止している間に変更されたデータ量によって異なります。 </p></div></div><div class="sect2"><h3 id="rpo-and-rto"> RPOとRTO </h3><div class="paragraph"><p> HA構成は、次のようにデータの高可用性を維持します。 </p></div><div class="ulist"><ul><li><p>目標復旧時点（RPO）は0秒です。 <br>あなたのデータはトランザクション的に一貫性があり、データの損失はありません。 </p></li><li><p>目標復旧時間（RTO）は60秒です。 <br>停電が発生した場合、データは60秒以内に利用可能になるはずです。 </p></li></ul></div></div><div class="sect2"><h3 id="ha-deployment-models"> HA展開モデル</h3><div class="paragraph"><p>複数のアベイラビリティーゾーン（AZ）にまたがって、または単一のAZにHA構成をデプロイすることで、データの高可用性を確保できます。あなたはあなたのニーズに最も合うものを選ぶためにそれぞれの設定についての詳細を見直すべきです。 </p></div></div></div></div><div class="sect1"><h2 id="cloud-volumes-ontap-ha-in-multiple-availability-zones">複数のアベイラビリティーゾーン内のクラウドボリュームONTAP HA </h2><div class="sectionbody"><div class="paragraph"><p> AZまたはCloud Volumes ONTAPノードを実行するインスタンスで障害が発生した場合、HA構成を複数のAvailability Zones（AZ）にデプロイすると、データの高可用性が保証されます。 NAS IPアドレスがデータアクセスとストレージフェイルオーバーに与える影響を理解しておく必要があります。 </p></div><div class="sect2"><h3 id="nfs-and-cifs-data-access"> NFSおよびCIFSデータアクセス</h3><div class="paragraph"><p> HA設定が複数のアベイラビリティゾーンにまたがっている場合、 <em>フローティングIPアドレス</em>によってNASクライアントアクセスが可能になります。領域内のすべてのVPCでは、浮動IPアドレスはCIDRブロックの外側になければならず、障害が発生したときにノード間を移動できます。 <a href="task_setting_up_transit_gateway.html">AWSトランジットゲートウェイ</a>を<a href="task_setting_up_transit_gateway.html">設定してい</a>ない限り、VPCの外部にあるクライアントからネイティブにアクセスすることはできません。 </p></div><div class="paragraph"><p>トランジットゲートウェイを設定できない場合は、プライベートIPアドレスをVPCの外部にあるNASクライアントに使用できます。ただし、これらのIPアドレスは静的であり、ノード間でフェイルオーバーすることはできません。 </p></div><div class="paragraph"><p>複数のアベイラビリティゾーンにHA設定を展開する前に、フローティングIPアドレスとルートテーブルの要件を確認する必要があります。構成を展開するときに、浮動IPアドレスを指定する必要があります。プライベートIPアドレスはCloud Managerによって自動的に作成されます。 </p></div><div class="paragraph"><p>詳細については、 <a href="reference_networking_aws.html#aws-networking-requirements-for-cloud-volumes-ontap-ha-in-multiple-azs">複数のAZでのCloud Volumes ONTAP HAのAWSネットワーク要件を</a>参照してください。 </p></div></div><div class="sect2"><h3 id="iscsi-data-access"> iSCSIデータアクセス</h3><div class="paragraph"><p> iSCSIはフローティングIPアドレスを使用しないため、VPC間のデータ通信は問題になりません。 </p></div></div><div class="sect2"><h3 id="storage-takeover-and-giveback-for-iscsi"> iSCSIのストレージの引き継ぎとギブバック</h3><div class="paragraph"><p> iSCSIの場合、Cloud Volumes ONTAPはマルチパスI / O（MPIO）と非対称論理ユニットアクセス（ALUA）を使用して、アクティブ最適化パスと非最適化パス間のパスフェイルオーバーを管理します。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content">どの特定のホスト構成がALUAをサポートしているかについては、ご使用のホストオペレーティングシステムの<a href="http://mysupport.netapp.com/matrix" target="_blank" rel="noopener">NetApp Interoperability Matrix Tool</a>および 『Host Utilitiesインストール/セットアップガイド』を参照してください。 </td></tr></table></div></div><div class="sect2"><h3 id="storage-takeover-and-giveback-for-nas"> NASへのストレージの引き継ぎとギブバック</h3><div class="paragraph"><p>フローティングIPを使用してNAS構成でテイクオーバーが発生すると、クライアントがデータにアクセスするために使用するノードのフローティングIPアドレスが他のノードに移動します。次の図は、フローティングIPを使用したNAS構成でのストレージのテイクオーバーを示しています。ノード2が停止すると、ノード2の浮動IPアドレスはノード1に移動します。 </p></div><div class="paragraph"><p> <span class="image"><img src="./media/diagram_takeover_giveback.png" alt="Cloud Volumes ONTAP HAペアでのストレージのテイクオーバーを示す概念図：ノード1からフローティングIPアドレスがノード2に移動します。"></span> </p></div><div class="paragraph"><p>障害が発生した場合、外部VPCアクセスに使用されるNASデータIPはノード間で移行できません。ノードがオフラインになった場合は、もう一方のノードのIPアドレスを使用してVPCの外部のクライアントに手動でボリュームを再マウントする必要があります。 </p></div><div class="paragraph"><p>障害が発生したノードがオンラインに戻ったら、元のIPアドレスを使用してクライアントをボリュームに再マウントします。この手順は、2つのHAノード間で不要なデータが転送されないようにするために必要です。これは、パフォーマンスと安定性に大きな影響を与える可能性があります。 </p></div><div class="paragraph"><p>ボリュームを選択して[ <strong>コマンドのマウント</strong> ]をクリックすると、Cloud Managerから正しいIPアドレスを簡単に識別できます。 </p></div></div></div></div><div class="sect1"><h2 id="cloud-volumes-ontap-ha-in-a-single-availability-zone">単一のアベイラビリティーゾーン内のクラウドボリュームONTAP HA </h2><div class="sectionbody"><div class="paragraph"><p>単一のアベイラビリティーゾーン（AZ）にHA構成をデプロイすると、Cloud Volumes ONTAPノードを実行するインスタンスに障害が発生した場合に、データの高可用性を確保できます。すべてのデータはVPCの外部からネイティブにアクセス可能です。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content"> Cloud Managerは<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html" target="_blank" rel="noopener">AWSスプレッドプレースメントグループ</a>を作成し、そのプレースメントグループ内の2つのHAノードを起動します。配置グループは、インスタンスを異なる基盤となるハードウェアに分散させることで、同時障害のリスクを軽減します。この機能により、ディスク障害の観点からではなく、計算の観点から冗長性が向上します。 </td></tr></table></div><div class="sect2"><h3 id="data-access">データアクセス</h3><div class="paragraph"><p>この構成は単一のAZ内にあるため、浮動IPアドレスを必要としません。 VPC内とVPC外からのデータアクセスに同じIPアドレスを使用できます。 </p></div><div class="paragraph"><p>次の図は、単一のAZ内のHA構成を示しています。データにはVPC内からもVPC外からもアクセスできます。 </p></div><div class="paragraph"><p> <span class="image"><img src="./media/diagram_single_az.png" alt="VPC外部からのデータアクセスを可能にする単一のアベイラビリティーゾーン内のONTAP HA構成を示す概念図。"></span> </p></div></div><div class="sect2"><h3 id="storage-takeover-and-giveback-2">ストレージの引き継ぎとギブバック</h3><div class="paragraph"><p> iSCSIの場合、Cloud Volumes ONTAPはマルチパスI / O（MPIO）と非対称論理ユニットアクセス（ALUA）を使用して、アクティブ最適化パスと非最適化パス間のパスフェイルオーバーを管理します。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content">どの特定のホスト構成がALUAをサポートしているかについては、ご使用のホストオペレーティングシステムの<a href="http://mysupport.netapp.com/matrix" target="_blank" rel="noopener">NetApp Interoperability Matrix Tool</a>および 『Host Utilitiesインストール/セットアップガイド』を参照してください。 </td></tr></table></div><div class="paragraph"><p> NAS構成の場合、障害が発生した場合、データIPアドレスはHAノード間で移行できます。これにより、クライアントはストレージに確実にアクセスできます。 </p></div></div></div></div><div class="sect1"><h2 id="how-storage-works-in-an-ha-pair"> HAペアでのストレージの仕組み</h2><div class="sectionbody"><div class="paragraph"><p> ONTAPクラスタとは異なり、Cloud Volumes ONTAP HAペアのストレージはノード間で共有されません。代わりに、データはノード間で同期的にミラーリングされるため、障害発生時にデータが利用可能になります。 </p></div><div class="sect2"><h3 id="storage-allocation">ストレージ割り当て</h3><div class="paragraph"><p>新しいボリュームを作成し、追加のディスクが必要になると、Cloud Managerは両方のノードに同じ数のディスクを割り当て、ミラー化されたアグリゲートを作成してから新しいボリュームを作成します。たとえば、ボリュームに2台のディスクが必要な場合、Cloud Managerはノードあたり2台のディスクを合計4台のディスクに割り当てます。 </p></div></div><div class="sect2"><h3 id="storage-configurations">ストレージ構成</h3><div class="paragraph"><p> HAペアは、両方のノードがクライアントにデータを提供するアクティブ - アクティブ構成、またはアクティブノードのストレージを引き継いだ場合にのみパッシブノードがデータ要求に応答するアクティブ - パッシブ構成として使用できます。 。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content">アクティブ - アクティブ構成を設定できるのは、[Storage System]ビューでCloud Managerを使用している場合だけです。 </td></tr></table></div></div><div class="sect2"><h3 id="performance-expectations-for-an-ha-configuration"> HA構成に対するパフォーマンスの期待</h3><div class="paragraph"><p> Cloud VolumesのONTAP HA構成は、ノード間でデータを同期的に複製するため、ネットワーク帯域幅を消費します。その結果、シングルノードのCloud Volumes ONTAP構成と比較して、次のパフォーマンスが期待できます。 </p></div><div class="ulist"><ul><li><p> 1つのノードのみからデータを提供するHA構成の場合、読み取りパフォーマンスはシングルノード構成の読み取りパフォーマンスと同等ですが、書き込みパフォーマンスは低下します。 </p></li><li><p>両方のノードからのデータを提供するHA構成の場合、読み取りパフォーマンスは単一ノード構成の読み取りパフォーマンスよりも高く、書き込みパフォーマンスは同じかそれ以上です。 </p></li></ul></div><div class="paragraph"><p>クラウドボリュームONTAP性能の詳細については、参照<a href="concept_performance.html">パフォーマンスを</a> 。 </p></div></div><div class="sect2"><h3 id="client-access-to-storage">ストレージへのクライアントアクセス</h3><div class="paragraph"><p>クライアントは、ボリュームが存在するノードのデータIPアドレスを使用してNFSおよびCIFSボリュームにアクセスする必要があります。 NASクライアントがパートナーノードのIPアドレスを使用してボリュームにアクセスすると、トラフィックは両方のノード間を行き来するため、パフォーマンスが低下します。 </p></div><div class="admonitionblock important"><table><tr><td class="icon"><i class="fa icon-important" title="重要"></i></td><td class="content"> HAペアのノード間でボリュームを移動する場合は、他のノードのIPアドレスを使用してボリュームを再マウントする必要があります。そうでないと、パフォーマンスが低下する可能性があります。クライアントがCIFSのNFSv4参照またはフォルダリダイレクトをサポートしている場合は、Cloud Volumes ONTAPシステムでこれらの機能を有効にして、ボリュームの再マウントを回避できます。詳細については、ONTAPのマニュアルを参照してください。 </td></tr></table></div><div class="paragraph"><p> Cloud Managerから正しいIPアドレスを簡単に識別できます。 </p></div><div class="paragraph"><p> <span class="image"><img src="./media/screenshot_mount.gif" alt="スクリーンショット：ボリュームを選択したときに使用可能なマウントコマンドを示しています。"></span> </p></div></div></div></div></article><!-- Page Container --></div><div class="page-nav-container"><nav class="page-nav-fixed"><div class="page-nav-title">このページで： </div><ul class="page-nav-inner" id="page-menu"></ul></nav></div></div></div></div></main><!-- Footer --><footer class="n-footer n-footer--v1" style="border-top: solid 10px #DFDFDF;"><div class="n-footer__bottom"><div class="n-container"><div class="n-footer__bottom-left"><div class="n-footer__copyright"> <a href="//www.netapp.com/us/legal/copyright.aspx" class="n-footer__copyright-link">©2019 NetApp、Inc.</a> </div><div class="n-footer__copyright"> <a href="https://library.netapp.com/ecm/ecm_download_file/ECMLP2848669" class="n-footer__copyright-link">通知</a> </div><div class="n-footer__copyright"> <a href="//www.netapp.com/us/legal/index.aspx" class="n-footer__copyright-link">法的</a> </div><div class="n-footer__social-links n-footer__copyright"><ul class="n-footer__social-link-list"><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-blog" href="http://blog.netapp.com" target="_blank" title="ブログ" alt="blog"><span class="n-footer__social-link-text">ブログ</span></a> <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#blog"></use></svg></li><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-community" href="http://community.netapp.com/" target="_blank" title="コミュニティ" alt="community"><span class="n-footer__social-link-text">コミュニティ</span></a> <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#comments"></use></svg></li><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netappdoc" target="_blank" title="さえずり" alt="twitter"><span class="n-footer__social-link-text">さえずり</span></a> <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#twitter"></use></svg></li><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTechCommTV/" target="_blank" title="YouTube" alt="youtube"><span class="n-footer__social-link-text">YouTube</span></a> <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#youtube"></use></svg></li></ul></div></div><div class="n-footer__bottom-right"><div class="n-footer__copyright"> <a href="https://docs.netapp.com/ja-jp/contribute/" class="n-footer__copyright-link">寄付する</a> </div><div class="n-footer__copyright"> <a target="_self" class="n-footer__copyright-link" href="javascript:netapp_mailto()">フィードバックをメールで送る</a> </div></div></div></div></footer></div><script src="/occm/ja-jp/common/js/components.js"></script><script src="/occm/ja-jp/common/js/doc-components.js"></script><!-- Elasticsearch JS --><script type="text/javascript" src="/occm/ja-jp/js/bundle.js"></script><!-- Syntax Highlighting --><script type="text/javascript" src="/occm/ja-jp/js/prism.js"></script><script type="text/javascript" src="/occm/ja-jp/js/prism-curl.js"></script></body></html>